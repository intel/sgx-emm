<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by Microsoft Visio, SVG Export SGX2-tcs.svg TCS seq -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"
		width="7.005in" height="4.555in" viewBox="0 0 504.36 327.96" xml:space="preserve" color-interpolation-filters="sRGB"
		class="st12">
	<style type="text/css">
	<![CDATA[
		.st1 {fill:#9ab3d1;stroke:#1f497d;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72}
		.st2 {stroke:#1f497d;stroke-dasharray:5.04,3.6;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72}
		.st3 {fill:#000000;font-family:Arial;font-size:0.666664em;font-weight:bold}
		.st4 {marker-end:url(#mrkr4-46);stroke:#1f497d;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.25}
		.st5 {fill:#1f497d;fill-opacity:1;stroke:#1f497d;stroke-opacity:1;stroke-width:0.07163323782235}
		.st6 {fill:#ffffff;stroke:none;stroke-linecap:butt;stroke-width:7.2}
		.st7 {fill:#000000;font-family:Arial;font-size:0.666664em}
		.st8 {font-size:1em}
		.st9 {marker-end:url(#mrkr3-84);stroke:#1f497d;stroke-dasharray:1.75,1.25;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.25}
		.st10 {fill:none}
		.st11 {fill:#9ab3d1;fill-opacity:0;stroke:#1f497d;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72}
		.st12 {fill:none;fill-rule:evenodd;font-size:12px;overflow:visible;stroke-linecap:square;stroke-miterlimit:3}
	]]>
	</style>

	<defs id="Markers">
		<g id="lend4">
			<path d="M 2 1 L 0 0 L 2 -1 L 2 1 " style="stroke:none"/>
		</g>
		<marker id="mrkr4-46" class="st5" refX="-27.92" orient="auto" markerUnits="strokeWidth" overflow="visible">
			<use xlink:href="#lend4" transform="scale(-13.96,-13.96) "/>
		</marker>
		<g id="lend3">
			<path d="M 2 1 L 0 0 L 2 -1 " style="stroke-linecap:round;stroke-linejoin:round;fill:none"/>
		</g>
		<marker id="mrkr3-84" class="st5" orient="auto" markerUnits="strokeWidth" overflow="visible">
			<use xlink:href="#lend3" transform="scale(-13.96,-13.96) "/>
		</marker>
	</defs>
	<g>
		<title>TCS seq</title>
		<g id="group98-1" transform="translate(18,-46.8)">
			<title>Sheet.98</title>
			<g id="group1-2" transform="translate(315,-234)">
				<title>Object lifeline</title>
				<desc>Kernel</desc>
				<g id="shape2-3">
					<title>Sheet.2</title>
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
				</g>
				<g id="shape3-5" transform="translate(18,-28.8)">
					<title>Sheet.3</title>
					<path d="M9 327.96 a0 0 0 1 1 0 0 a0 0 0 1 1 0 0 Z" class="st1"/>
				</g>
				<g id="shape4-7" transform="translate(18,226.8)">
					<title>Sheet.4</title>
				</g>
				<g id="shape5-9" transform="translate(354.96,327.96) rotate(90)">
					<title>Sheet.5</title>
					<path d="M0 327.96 L208.8 327.96" class="st2"/>
				</g>
				<g id="shape1-12">
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
					<text x="14.55" y="317.76" class="st3">Kernel</text>				</g>
			</g>
			<g id="group12-15" transform="translate(99,-234)">
				<title>Object lifeline.12</title>
				<desc>Enclave</desc>
				<g id="shape13-16">
					<title>Sheet.13</title>
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
				</g>
				<g id="shape14-18" transform="translate(18,-28.8)">
					<title>Sheet.14</title>
					<path d="M9 327.96 a0 0 0 1 1 0 0 a0 0 0 1 1 0 0 Z" class="st1"/>
				</g>
				<g id="shape15-20" transform="translate(18,235.8)">
					<title>Sheet.15</title>
				</g>
				<g id="shape16-22" transform="translate(354.96,327.96) rotate(90)">
					<title>Sheet.16</title>
					<path d="M0 327.96 L217.8 327.96" class="st2"/>
				</g>
				<g id="shape12-25">
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
					<text x="11.88" y="317.76" class="st3">Enclave</text>				</g>
			</g>
			<g id="group22-28" transform="translate(414,-234)">
				<title>Object lifeline.22</title>
				<desc>CPU-sgx</desc>
				<g id="shape23-29">
					<title>Sheet.23</title>
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
				</g>
				<g id="shape24-31" transform="translate(18,-28.8)">
					<title>Sheet.24</title>
					<path d="M9 327.96 a0 0 0 1 1 0 0 a0 0 0 1 1 0 0 Z" class="st1"/>
				</g>
				<g id="shape25-33" transform="translate(18,226.8)">
					<title>Sheet.25</title>
				</g>
				<g id="shape26-35" transform="translate(354.96,327.96) rotate(90)">
					<title>Sheet.26</title>
					<path d="M0 327.96 L208.8 327.96" class="st2"/>
				</g>
				<g id="shape22-38">
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
					<text x="10.33" y="317.76" class="st3">CPU-sgx</text>				</g>
			</g>
			<g id="shape30-41" transform="translate(126,-153)">
				<title>Message.30</title>
				<desc>mprotect (addr, len, PT_TCS)</desc>
				<path d="M0 318.96 L101.02 318.96" class="st4"/>
				<rect x="18.2112" y="293.16" width="71.5776" height="19.1997" class="st6"/>
				<text x="38.44" y="300.36" class="st7">mprotect <tspan x="18.21" dy="1.2em" class="st8">(</tspan>addr, len, PT_TCS)</text>			</g>
			<g id="shape34-50" transform="translate(234,-153)">
				<title>Message.34</title>
				<desc>mprotect (addr, len, PROT_TCS)</desc>
				<path d="M0 318.96 L101.02 318.96" class="st4"/>
				<rect x="12.2111" y="293.16" width="83.5777" height="19.1997" class="st6"/>
				<text x="38.44" y="300.36" class="st7">mprotect <tspan x="12.21" dy="1.2em" class="st8">(</tspan>addr, len, PROT_TCS)</text>			</g>
			<g id="shape38-58" transform="translate(342,-135)">
				<title>Message.38</title>
				<desc>EMODT(PT_TCS)</desc>
				<path d="M0 318.96 L92.02 318.96" class="st4"/>
				<rect x="17.0567" y="314.16" width="64.8866" height="9.59985" class="st6"/>
				<text x="17.06" y="321.36" class="st7">EMODT(PT_TCS)</text>			</g>
			<g id="shape41-65" transform="translate(342,-117)">
				<title>Message.41</title>
				<desc>ETRACK</desc>
				<path d="M0 318.96 L92.02 318.96" class="st4"/>
				<rect x="33.2755" y="315.96" width="32.4489" height="9.59985" class="st6"/>
				<text x="33.28" y="323.16" class="st7">ETRACK</text>			</g>
			<g id="shape42-72" transform="translate(333,-108)">
				<title>Message.42</title>
				<desc>send IPI</desc>
				<path d="M9 327.96 L27 327.96 L27 345.96 L15.98 345.96" class="st4"/>
				<rect x="30.3245" y="329.46" width="29.3511" height="9.59985" class="st6"/>
				<text x="30.32" y="336.66" class="st7">send IPI</text>			</g>
			<g id="shape43-79" transform="translate(342,-81)">
				<title>Message.43</title>
				<path d="M0 318.96 L-108 318.96" class="st9"/>
			</g>
			<g id="shape44-85" transform="translate(234,-81)">
				<title>Message.44</title>
				<path d="M0 318.96 L-108 318.96" class="st9"/>
			</g>
			<g id="shape50-90" transform="translate(126,-63)">
				<title>Message.50</title>
				<desc>EACCEPT(PT_TCS)</desc>
				<path d="M0 318.96 L308.02 318.96" class="st4"/>
				<rect x="120.608" y="314.16" width="73.7847" height="9.59985" class="st6"/>
				<text x="120.61" y="321.36" class="st7">EACCEPT(PT_TCS)</text>			</g>
			<g id="shape53-97" transform="translate(441,-45)">
				<title>Return Message.53</title>
				<path d="M0 318.96 L-315 318.96" class="st9"/>
			</g>
			<g id="shape68-102" transform="translate(126,-27)">
				<title>Self Message</title>
				<desc>start_thread (addr, ecall#, ...)</desc>
				<path d="M0 318.96 L101.02 318.96" class="st4"/>
				<rect x="29.5999" y="302.16" width="57.8002" height="19.1997" class="st6"/>
				<text x="37.15" y="309.36" class="st7">start_thread <tspan x="29.6" dy="1.2em" class="st8">(</tspan>addr, ecall#, ...)</text>			</g>
			<g id="group6-110" transform="translate(207,-234)">
				<title>Object lifeline.6</title>
				<desc>Untrusted Runtime</desc>
				<g id="shape7-111">
					<title>Sheet.7</title>
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
				</g>
				<g id="shape8-113" transform="translate(18,-28.8)">
					<title>Sheet.8</title>
					<path d="M9 327.96 a0 0 0 1 1 0 0 a0 0 0 1 1 0 0 Z" class="st1"/>
				</g>
				<g id="shape9-115" transform="translate(18,262.8)">
					<title>Sheet.9</title>
				</g>
				<g id="shape10-117" transform="translate(354.96,327.96) rotate(90)">
					<title>Sheet.10</title>
					<path d="M0 327.96 L244.8 327.96" class="st2"/>
				</g>
				<g id="shape6-120">
					<rect x="0" y="302.76" width="54" height="25.2" class="st1"/>
					<text x="8.11" y="312.96" class="st3">Untrusted <tspan x="11" dy="1.2em" class="st8">Runtime</tspan></text>				</g>
			</g>
			<g id="shape87-124" transform="translate(45,-210.825)">
				<title>Interaction operand</title>
				<desc>After allocating a regular page</desc>
				<path d="M0 327.96 L162 327.96 L162 306.58 L0 306.58 L0 327.96 Z" class="st10"/>
				<path d="M162 306.58 L0 306.58" class="st2"/>
				<text x="4" y="317.79" class="st7">After allocating <tspan x="4" dy="1.2em" class="st8"> </tspan>a regular page</text>			</g>
			<g id="shape88-129" transform="translate(117,-216)">
				<title>Self Message.52</title>
				<desc>init TCS content</desc>
				<path d="M9 327.96 L27 327.96 L27 345.96 L15.98 345.96" class="st4"/>
				<rect x="20.4808" y="330.585" width="56.9133" height="9.59985" class="st6"/>
				<text x="20.48" y="337.79" class="st7">init TCS content</text>			</g>
			<g id="shape97-136" transform="translate(225,-36)">
				<title>Self Message.52.97</title>
				<desc>Associate an OS thread with the new TCS, ecall from OS thread...</desc>
				<path d="M9 327.96 L27 327.96 L27 363.96 L15.98 363.96" class="st4"/>
				<rect x="-30.8137" y="338.16" width="151.627" height="19.1997" class="st6"/>
				<text x="-30.81" y="345.36" class="st7">Associate an OS thread with the new TCS,  <tspan x="-24.14" dy="1.2em"
							class="st8">ecall from OS thread with the new TCS</tspan></text>			</g>
		</g>
		<g id="group102-144" transform="translate(59.0625,-31.5)">
			<title>Other fragment</title>
			<g id="shape102-145">
				<rect x="0" y="264.96" width="219.938" height="63" class="st11"/>
			</g>
			<g id="shape103-147" transform="translate(0,-45.3964)">
				<title>Sheet.103</title>
				<desc>Runtime Specific</desc>
				<path d="M0 327.96 L70.15 327.96 L77.35 320.76 L77.35 310.36 L0 310.36 L0 327.96 Z" class="st1"/>
				<text x="4" y="321.56" class="st3">Runtime Specific </text>			</g>
		</g>
	</g>
</svg>
